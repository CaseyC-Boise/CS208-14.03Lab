extends layout

block content
  section.comments-header
    h1 Customer Comments
    p We love hearing from our customers! Share your experience with us.

  section.comment-form-section
    h2 Leave a Comment
    form.comment-form(method="POST" action="/comments")
      .form-group
        label(for="name") Your Name
        input#name(type="text" name="name" placeholder="Enter your name" required maxlength="255")
      
      .form-group
        label(for="message") Your Message
        textarea#message(name="message" placeholder="Tell us about your experience..." required rows="5" maxlength="1000")
      
      button.submit-btn(type="submit") Submit Comment

  section.comments-list-section
    h2 What Our Customers Say
    
    if comments && comments.length > 0
      ul.comment-list
        each c in comments
          li.comment
            .comment-header
              h3= c.name
              span.date= new Date(c.created_at).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })
            .comment-body
              p= c.message
    else
      p.no-comments Be the first to leave a comment!